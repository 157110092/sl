<html lang="zh-CN">
<head>
    <meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=0" name="viewport">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="yes" name="apple-touch-fullscreen">
    <meta content="black" name="apple-mobile-web-app-status-bar-style">
    <meta content="320" name="MobileOptimized">
    <title></title>
    <style>
        .container {
            width: 100px;
            height: 100px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .dot {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background-color: #000;
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
            margin: auto;
        }

        .dot-3 {
            background-color: #f74d75;
        }

        .dot-2 {
            background-color: #10beae;
        }

        .dot-1 {
            background-color: #ffe386;
        }

        .dot-3 {
            background-color: #f74d75;
            animation: dot-3-move 2s ease infinite;
        }

        @keyframes dot-3-move {
            20% { transform: scale(1) }
            45% { transform: translateY(-18px) scale(.45) }
            60% { transform: translateY(-25px) scale(.45) }
            80% { transform: translateY(-25px) scale(.45) }
            100% { transform: translateY(0px) scale(1) }
        }

        .dot-2 {
            background-color: #10beae;
            animation: dot-2-move 2s ease infinite;
        }

        .dot-1 {
            background-color: #ffe386;
            animation: dot-1-move 2s ease infinite;
        }

        @keyframes dot-2-move {
            20% { transform: scale(1) }
            45% { transform: translate(-16px, 12px) scale(.45) }
            60% { transform: translate(-20px, 15px) scale(.45) }
            80% { transform: translate(-20px, 15px) scale(.45) }
            100% { transform: translateY(0px) scale(1) }
        }

        @keyframes dot-1-move {
            20% { transform: scale(1) }
            45% { transform: translate(16px, 12px) scale(.45) }
            60% { transform: translate(20px, 15px) scale(.45) }
            80% { transform: translate(20px, 15px) scale(.45) }
            100% { transform: translateY(0px) scale(1) }
        }

        .container {
            width: 100px;
            height: 100px;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: rotate-move 2s ease-in-out infinite;
        }

        @keyframes rotate-move {
            55% { transform: translate(-50%, -50%) rotate(0deg) }
            80% { transform: translate(-50%, -50%) rotate(360deg) }
            100% { transform: translate(-50%, -50%) rotate(360deg) }
        }

        .content{
            height:100%;
            width:100%;
            position: fixed;
            left: -2px;
            top: -2px;
        }

        /* 未授权提示样式 */
        .unauthorized提示 {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            font-family: Arial, sans-serif;
            font-size: 20px;
            z-index: 9999;
            flex-direction: column;
            text-align: center;
            padding: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="dot dot-1"></div>
        <div class="dot dot-2"></div>
        <div class="dot dot-3"></div>
    </div>

    <script>
        // ===== 域名验证配置 =====
        // 替换为你的TXT授权域名列表，用分号分隔
        const allowedDomainsTxt = "shoulewl.com;test.com;yourdomain.com"; 
        // ========================

        // 获取当前访问域名
        const currentDomain = window.location.hostname;
        // 解析授权域名列表
        const allowedDomains = allowedDomainsTxt.split(';')
            .map(domain => domain.trim())
            .filter(domain => domain); // 过滤空值

        // 验证当前域名是否授权
        const isAuthorized = allowedDomains.includes(currentDomain);

        if (!isAuthorized) {
            // 未授权：显示提示并阻止加载
            const container = document.querySelector('.container');
            container.style.display = 'none'; // 隐藏加载动画
            
            const提示Div = document.createElement('div');
            提示Div.className = 'unauthorized提示';
            提示Div.innerHTML = `
                <h2>未授权访问</h2>
                <p>当前域名 (${currentDomain}) 未在授权列表中</p>
                <p>请使用授权域名访问</p>
            `;
            document.body.appendChild(提示Div);
        } else {
            // 已授权：执行原有逻辑
            var urlParams = new URLSearchParams(window.location.search);
            var encodedParam = urlParams.get('c');
            var trueUrl = encodedParam ? atob(encodedParam) : '';

            if (trueUrl.includes("http")) {
                var container = document.querySelector('.container');
                setTimeout(function() {
                    container.style.display = "none";
                }, 1500);

                var html = '<iframe class="content" onload="bindMouseWhee(this)" src="' + trueUrl + '"></iframe>';
                document.writeln(html);
                console.log("授权域名访问，加载目标URL：", trueUrl);
            } else {
                console.log("未找到有效URL参数");
                const container = document.querySelector('.container');
                container.style.display = 'none';
                alert('未找到有效访问地址');
            }
        }
    </script>

    <script>
        var firefox = navigator.userAgent.indexOf('Firefox') != -1;
        
        function MouseWheel(e, doc) {
            e.preventDefault && e.preventDefault();
            e.returnValue = false;
            var up = firefox && e.detail < 0 || e.wheelDelta > 0;
            doc.body.scrollTop = doc.documentElement.scrollTop += up ? -50 : 50;
        }

        function bindMouseWhee(ifr) {
            try {
                var doc = ifr.contentWindow.document;
                if (firefox) {
                    doc.addEventListener('DOMMouseScroll', function(e) {
                        MouseWheel(e, doc);
                    }, false);
                } else {
                    doc.onmousewheel = function(e) {
                        MouseWheel(e || ifr.contentWindow.event, doc);
                    };
                }
            } catch (e) {
                alert('无法获取iframe内容: ' + e.message);
            }
        }
    </script>
</body>
</html>
